{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}

<div class="row mb-5 align-items-center">
    <div class="col">
        <h2 class="fw-bold mb-1">Overview</h2>
        <p class="text-secondary mb-0">System monitoring status and key metrics</p>
    </div>
    <div class="col-auto">
        <a href="{{ url_for('logs.search_logs') }}" class="btn btn-primary">
            Search Logs
        </a>
    </div>
</div>

<div class="row g-4">

    <!-- Total Logs Card: Linked to demo_logs.txt -->
    <div class="col-md-4">
        {% if demo_source_id %}
        <a href="{{ url_for('logs.search_logs', source_id=demo_source_id) }}" class="text-decoration-none text-reset">
            {% else %}
            <a href="{{ url_for('logs.search_logs') }}" class="text-decoration-none text-reset">
                {% endif %}
                <div class="card stat-card h-100 transition-hover">
                    <div class="card-body d-flex flex-column justify-content-center text-center">
                        <h3 class="fw-bold text-primary">{{ log_count }}</h3>
                        <p class="text-secondary fw-semibold mb-0">Total Logs</p>
                    </div>
                </div>
            </a>
    </div>

    <!-- Active Alerts Card -->
    <div class="col-md-4">
        <a href="{{ url_for('alerts.list_alerts') }}" class="text-decoration-none text-reset">
            <div class="card stat-card h-100 transition-hover">
                <div class="card-body d-flex flex-column justify-content-center text-center">
                    <h3 class="fw-bold text-primary">{{ alert_count }}</h3>
                    <p class="text-secondary fw-semibold mb-0">Active Alerts</p>
                </div>
            </div>
        </a>
    </div>

    <!-- Log Sources Card: Read-only for users -->
    <div class="col-md-4">
        <a href="{{ url_for('logs.list_log_sources') }}" class="text-decoration-none text-reset">
            <div class="card stat-card h-100 transition-hover">
                <div class="card-body d-flex flex-column justify-content-center text-center">
                    <h3 class="fw-bold text-primary">{{ source_count }}</h3>
                    <p class="text-secondary fw-semibold mb-0">Log Sources</p>
                </div>
            </div>
        </a>
    </div>

</div>

{% endblock %}